{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,SACpC,IAAIC,EAAW,EACXC,EAAU,EAEdJ,EAAKK,iBAAiB,UActB,SAAuBC,GACrBA,EAAIC,iBACJ,MAAMC,EAAQR,EAAKS,SAASD,MAAME,MAClC,IAAIC,EAAWX,EAAKS,SAASG,KAAKF,MAClC,MAAMG,EAASb,EAAKS,SAASI,OAAOH,MAE9BI,EAASC,YAAW,KACxB,MAAMC,EAAaC,aAAY,KAC7BC,aAAaJ,GApBnB,SAAuBK,EAAUX,GACTY,KAAKC,SAAW,GAIpCC,EAAAxB,GAASyB,OAAOC,QAAQ,uBAAqBL,QAAiBX,OAG9Dc,EAAAxB,GAASyB,OAAOE,QAAQ,sBAAoBN,QAAeX,M,CAazDkB,CAAcvB,EAAUQ,GACxBR,GAAY,EACZC,GAAW,EACXO,EAAWgB,OAAOnB,GAASmB,OAAOhB,GAC9BE,GAAUT,GACZwB,cAAcZ,E,GAGfW,OAAOnB,GAASmB,OAAOhB,GAAU,GACnCH,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst form = document.querySelector('.form');\nlet position = 1;\nlet counter = 0;\n\nform.addEventListener('submit', promiseCreate);\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n\n  if (shouldResolve) {\n    // Fulfill\n    Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  } else {\n    // Reject\n    Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n  }\n}\n\nfunction promiseCreate(evt) {\n  evt.preventDefault();\n  const delay = form.elements.delay.value;\n  let interval = form.elements.step.value;\n  const amount = form.elements.amount.value;\n\n  const timeId = setTimeout(() => {\n    const intervalId = setInterval(() => {\n      clearTimeout(timeId);\n      createPromise(position, interval);\n      position += 1;\n      counter += 1;\n      interval = Number(delay) + Number(interval);\n      if (amount == counter) {\n        clearInterval(intervalId);\n        return;\n      }\n    }, Number(delay) + Number(interval));\n  }, delay);\n}\n"],"names":["$eWCmQ","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$position","$47d4ff9957288465$var$counter","addEventListener","evt","preventDefault","delay","elements","value","interval","step","amount","timeId","setTimeout","intervalId","setInterval","clearTimeout","position1","Math","random","$parcel$interopDefault","Notify","success","failure","$47d4ff9957288465$var$createPromise","Number","clearInterval"],"version":3,"file":"03-promises.d290a036.js.map"}