{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,SAChCC,EAAW,EACXC,EAAU,EAEdJ,EAAKK,iBAAiB,UActB,SAAuBC,GACrBA,EAAIC,iBACJ,IAAMC,EAAQR,EAAKS,SAASD,MAAME,MAC9BC,EAAWX,EAAKS,SAASG,KAAKF,MAC5BG,EAASb,EAAKS,SAASI,OAAOH,MAE9BI,EAASC,YAAW,WACxB,IAAMC,EAAaC,aAAY,WAC7BC,aAAaJ,GApBnB,SAAuBK,EAAUX,GACTY,KAAKC,SAAW,GAIpCC,EAAAxB,GAASyB,OAAOC,QAAQ,uBAAwCC,OAAfN,EAAS,QAAYM,OAANjB,EAAM,OAGtEc,EAAAxB,GAASyB,OAAOG,QAAQ,sBAAqCD,OAAfN,EAAS,QAAYM,OAANjB,EAAM,M,CAajEmB,CAAcxB,EAAUQ,GACxBR,GAAY,EACZC,GAAW,EACXO,EAAWiB,OAAOpB,GAASoB,OAAOjB,GAC9BE,GAAUT,GACZyB,cAAcb,E,GAGfY,OAAOpB,GAASoB,OAAOjB,G,GACzBH,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst form = document.querySelector('.form');\nlet position = 1;\nlet counter = 0;\n\nform.addEventListener('submit', promiseCreate);\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n\n  if (shouldResolve) {\n    // Fulfill\n    Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  } else {\n    // Reject\n    Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n  }\n}\n\nfunction promiseCreate(evt) {\n  evt.preventDefault();\n  const delay = form.elements.delay.value;\n  let interval = form.elements.step.value;\n  const amount = form.elements.amount.value;\n\n  const timeId = setTimeout(() => {\n    const intervalId = setInterval(() => {\n      clearTimeout(timeId);\n      createPromise(position, interval);\n      position += 1;\n      counter += 1;\n      interval = Number(delay) + Number(interval);\n      if (amount == counter) {\n        clearInterval(intervalId);\n        return;\n      }\n    }, Number(delay) + Number(interval));\n  }, delay);\n}\n"],"names":["$iU1Pc","parcelRequire","$ce04d3a99e08e73b$var$form","document","querySelector","$ce04d3a99e08e73b$var$position","$ce04d3a99e08e73b$var$counter","addEventListener","evt","preventDefault","delay","elements","value","interval","step","amount","timeId","setTimeout","intervalId","setInterval","clearTimeout","position1","Math","random","$parcel$interopDefault","Notify","success","concat","failure","$ce04d3a99e08e73b$var$createPromise","Number","clearInterval"],"version":3,"file":"03-promises.cafe58b1.js.map"}